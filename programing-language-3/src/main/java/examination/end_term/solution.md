# Solution

## 問 1．MusicData クラスと MediaData クラスのクラス間の関係として最も適しているものを、以下の候補から選択せよ

is-a関係

## 問 2．このプログラムのUMLクラス図として、最も適している図を以下の候補から選択せよ

図3

## 問 3．このプログラムの実行方法として最も適しているものはどれか、以下の候補から選択せよ。ただし、上記のコードはすでにコンパイル済みであり、カレントワーキングディレクトリは  collection ディレクトリを直接サブディレクトリとして持つディレクトリであるとする。また、 > はプロンプト記号を表すものとする

java collection.Bag

## 問 4．このプログラムにおいて 32 行目の処理はどんな目的で記述されていると考えるか、自身の考えを述べよ

equalsメソッドの引数として渡されたObject型の変数objをItem型にキャストしている。これは、objがItemクラスのインスタンスであることをinstanceof演算子で確認した後 、Itemクラスで定義されているフィールドにアクセス可能にし、後続のreturn name.equals(other.name); という比較処理を実行可能にするために、この型変換が必要となる。

## 問 5．このプログラムをそのままコンパイルし実行するときと、36 行目から 39 行目をコメントアウトした後にコンパイルし実行するときとで実行結果に違いが生じうる。その理由について、起こりうる実行結果の違いを示し説明せよ。必要であれば java.util.HashSet クラスについて Java API ドキュメントなどで確認を行うこと

HashSetがオブジェクトの等価性の判定には、equals()とhashCode()が用いられる。元のプログラムでは、hashCode()はnameにに基づいてハッシュを作成するため、"Apple"という同じ名前を持つappleとringoは等価とみなされ、containsメソッドはtrueを返す 。しかし、hashCode()をコメントアウトすると、appleとringoは異なるインスタンスであるため、元々の実装に基づいた異なるハッシュ値が返される 。その結果、HashSetはこれらを別物と判断し、containsメソッドはfalseを返す可能性がある 。

## 問 6. このプログラムは実行中に例外が発生する。この例外の発生により出力されるメッセージを記述せよ

Out of Ink

## 問 7. このプログラムは実行中に例外が発生し、メッセージが出力される。このメッセージの出力先を以下の候補から選択せよ

標準エラー出力

## 問 8．このプログラムの 56 行目の実行により標準出力に出力される結果を記述せよ

!! sandwich !!

## 問 9．StarDecorator クラスの decorate メソッドの処理について説明せよ

StarDecoratorクラスのdecorateメソッドは、引数として受け取った文字列str の後ろに、コンストラクタで指定された回数（num）分の" * "を連結した新しい文字列を返す

## 問 10．このプログラムの 52 行目と 55 行目では、setDeco メソッドに異なるクラスのインスタンスが引数として渡されている。にもかかわらず、このプログラムはコンパイルに失敗することはない。その理由について「インタフェース」という言葉を用いて説明せよ

StarDecoratorクラスとSandwichDecoratorクラスはともにDecoratorインタフェースを実装しているためである。DisplayクラスのsetDecoメソッドは、引数としてDecorator インタフェース型のオブジェクトを受け取る。あるインタフェースを実装したクラスのインスタンスは、そのインタフェース型の変数に代入することができるため、new StarDecorator(3)もnew SandwichDecorator("!!")も、どちらもDecorator型として扱うことができ、setDecoメソッドの引数として正しく渡すことができるため、コンパイルに失敗することはない。
