# Solution

問題（`pro3_chukan.pdf`）はREADMEにあるリンクから確認すること

`PropForm.java`

## 問1. このプログラムの実行方法として、最も適しているものはどれか、以下の候補から選択せよ。ただし、上記のコードはすでにコンパイル済みであるとする。また > はプロンプト記号を表す

java PropForm

## 問2. このプログラムの30行目～34行目の OrForm クラスのコンストラクタの処理について説明せよ。必要であれば java.lang.Math クラスの max メソッドについて Java API ドキュメントを引き、メソッドの処理内容を確認すること

引数としてForm型のleftとrightを受け取り、superで親クラスFormのコンストラクタを呼ぶときの引数として、Math.maxによりleftとrightのevaluate()メソッドの戻り値を比較し、大きい方を渡している。その後、コンストラクタ内で受け取った left と right の参照を、それぞれ内部のフィールドに保存している。

## 問3. このプログラムの実行により標準出力に出力される結果を、以下の候補から選択せよ

OR (  OR (  F  , T  )  , OR (  T  , F  )  )  : 1

`ReadWriteTest.java`

## 問4. このプログラムの実行により、標準出力に出力される結果を記述せよ

tape ’s state :  5 2 +

## 問5. このプログラムの34行目～37行目をアンコメントしてからコンパイルし直し、実行してみたところ、実行が正常終了しなかった。その原因は何であると考えられるか？必要であれば実際にプログラムをJava処理系にて実行し、異常終了時の標準エラーへの出力を確認すること

標準エラーの出力を以下に示す。

`Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 5`

30から34行目で長さ5の配列に対するインデックスが-1になっており、アンコメントした箇所でインデックス-1に対してアクセスしようとしたため。

`Derivative.java`

## 問 6. このプログラムの 28 行目で呼び出される getName メソッドの処理について説明せよ。ただし、説明には 28 行目の実行による出力結果を含めること

getNameメソッドは、Derivativeクラスのオーバーライドされたメソッドであり、親クラスOriginalのgetName()を呼び出し、その戻り値を大文字に変換して返す処理を行う。これによる出力結果は`HOGE`となる。

## 問 7. このプログラムを実行すると、31 行目のコードは実行されない。その理由について「インスタンス」という言葉を用いて説明せよ

ref1とref2は、それぞれ別のDerivativeクラスのインスタンスのアドレスを参照していて、==演算子で比較しても異なるアドレスであるため条件式は`false`となり、31行目のコードは実行されない。

## 問 8. このプログラムの実行時における 34 行目と 37 行目の if 文の条件式の評価値について正しく述べているものはどれか？

34 行目、37 行目どちらも true

`Main.java`

## 問 9. このプログラムの 38 行目で呼び出される add メソッドは、12 行目～14 行目で定義されているメソッドと、16 行目～19 行目で定義されているメソッドのどちらであるか？

16 行目～19 行目で定義されている add メソッド

## 問 10. このプログラムの実行により標準出力に出力される結果について、なぜその出力が得られるのか説明せよ

このプログラムの実行結果は6となる。これは、Limitedクラスのstaticnなメンバとして全てのインスタンスでアドレスが共有されている静的変数remainがコンストラクタが呼び出されるたびに1ずつ減少していくためである。remainの初期値は10と定義されている。main メソッドの中で、obj1 と obj2 のインスタンスを作成するときにそれぞれ-1され、remain は 8 となる。その後、obj1.plus(obj2) を呼び出すと、plus メソッドの中でさらにコンストラクタが呼ばれ、remain は 7 になる。続いて、その結果に対してさらに .plus(obj1) を呼ぶため、また Limited オブジェクトが作られ、remain は 6 になる。最後に Limited.getRemain() を呼び、その時点での remain の値である6が標準出力に出力される。